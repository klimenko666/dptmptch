<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - TempTeachers</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">TempTeachers</h1>
                <nav class="nav">
                    <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="/vacancies" class="nav-link">–í–∞–∫–∞–Ω—Å–∏–∏</a>
                    <a href="/dashboard" class="nav-link active">–ö–∞–±–∏–Ω–µ—Ç</a>
                </nav>
                <div class="user-menu">
                    <button class="btn btn-secondary" id="logout-btn">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="dashboard-section">
            <div class="container">
                <div class="dashboard-header">
                    <h2 id="welcome-message">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                    <div class="dashboard-actions">
                        <button class="btn btn-outline" id="edit-profile-btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                        <button class="btn btn-primary" id="create-vacancy-btn">–°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é</button>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="vacancies-section">
                        <div class="vacancies-tabs">
                            <button class="tab-btn active" data-tab="active">–ê–∫—Ç–∏–≤–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏</button>
                            <button class="tab-btn" data-tab="archived">–ê—Ä—Ö–∏–≤</button>
                        </div>

                        <div class="tab-content active" id="active-vacancies-tab">
                            <div class="vacancies-list" id="active-vacancies">
                                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π...</div>
                            </div>
                        </div>

                        <div class="tab-content" id="archived-vacancies-tab">
                            <div class="vacancies-list" id="archived-vacancies">
                                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Edit Profile Modal -->
        <div class="modal" id="profile-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏</h3>
                    <button class="modal-close" id="profile-modal-close">&times;</button>
                </div>
                <form id="profile-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="company-name">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *</label>
                            <input type="text" id="company-name" name="organization_name" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-name">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                            <input type="text" id="contact-name" name="contact_name" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="company-phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                            <input type="tel" id="company-phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="company-email">Email *</label>
                            <input type="email" id="company-email" name="email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="company-description">–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</label>
                        <textarea id="company-description" name="description" rows="4" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —É—á–µ–±–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="profile-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary" id="profile-submit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Create/Edit Vacancy Modal -->
        <div class="modal" id="vacancy-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">–°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é</h3>
                    <button class="modal-close" id="modal-close">&times;</button>
                </div>
                <form class="vacancy-form" id="vacancy-form">
                    <div class="form-group">
                        <label for="vacancy-subject">–ü—Ä–µ–¥–º–µ—Ç / –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è *</label>
                        <input type="text" id="vacancy-subject" name="subject" required>
                    </div>

                    <div class="form-group">
                        <label for="vacancy-type">–¢–∏–ø —Ä–∞–±–æ—Ç—ã *</label>
                        <select id="vacancy-type" name="work_type" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                            <option value="–∑–∞–º–µ–Ω–∞">–ó–∞–º–µ–Ω–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</option>
                            <option value="–≤—Ä–µ–º–µ–Ω–Ω–∞—è">–í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vacancy-start">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ *</label>
                            <input type="date" id="vacancy-start" name="start_date" required min="" onchange="updateEndDateMin()">
                        </div>
                        <div class="form-group">
                            <label for="vacancy-end">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è *</label>
                            <input type="date" id="vacancy-end" name="end_date" required min="" onchange="validateDates()">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vacancy-schedule-from">–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã *</label>
                            <input type="time" id="vacancy-schedule-from" name="schedule_from" required>
                        </div>
                        <div class="form-group">
                            <label for="vacancy-schedule-to">–î–æ *</label>
                            <input type="time" id="vacancy-schedule-to" name="schedule_to" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vacancy-salary-amount">–û–ø–ª–∞—Ç–∞ *</label>
                            <input type="number" id="vacancy-salary-amount" name="salary_amount" placeholder="50000" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="vacancy-salary-type">–í–∞–ª—é—Ç–∞/–ø–µ—Ä–∏–æ–¥ *</label>
                            <select id="vacancy-salary-type" name="salary_type" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                                <option value="–≤ –º–µ—Å—è—Ü">KZT –≤ –º–µ—Å—è—Ü</option>
                                <option value="–∑–∞ —á–∞—Å">KZT –∑–∞ —á–∞—Å</option>
                                <option value="–∑–∞ –¥–µ–Ω—å">KZT –∑–∞ –¥–µ–Ω—å</option>
                                <option value="–∑–∞ –Ω–µ–¥–µ–ª—é">KZT –∑–∞ –Ω–µ–¥–µ–ª—é</option>
                                <option value="–∑–∞ —É—Ä–æ–∫">KZT –∑–∞ —É—Ä–æ–∫</option>
                                <option value="–∑–∞ —Å–º–µ–Ω—É">KZT –∑–∞ —Å–º–µ–Ω—É</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="vacancy-work-days">–î–Ω–∏ –Ω–µ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç—ã</label>
                        <div class="work-days-selector" id="work-days-selector">
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="monday"> –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="tuesday"> –í—Ç–æ—Ä–Ω–∏–∫
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="wednesday"> –°—Ä–µ–¥–∞
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="thursday"> –ß–µ—Ç–≤–µ—Ä–≥
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="friday"> –ü—è—Ç–Ω–∏—Ü–∞
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="saturday"> –°—É–±–±–æ—Ç–∞
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="work_days" value="sunday"> –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="vacancy-address">–ê–¥—Ä–µ—Å —Ä–∞–±–æ—Ç—ã</label>
                        <div class="address-input-group">
                            <input type="text" id="vacancy-address" name="address" placeholder="—É–ª. –ê–±–∞—è, 10, –ê–ª–º–∞—Ç—ã">
                            <button type="button" class="btn btn-outline btn-small" id="pick-address-btn">–í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
                        </div>
                    </div>

                    <!-- Address Picker Modal -->
                    <div class="modal" id="address-picker-modal">
                        <div class="modal-content map-modal">
                            <div class="modal-header">
                                <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∞–¥—Ä–µ—Å –Ω–∞ –∫–∞—Ä—Ç–µ</h3>
                                <button class="modal-close" id="address-picker-close">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="map-search">
                                    <input type="text" id="map-search-input" placeholder="–ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞...">
                                    <button type="button" class="btn btn-secondary" id="map-search-btn">üîç –ù–∞–π—Ç–∏</button>
                                </div>
                                <div class="map-container">
                                    <div id="map-container" style="width: 100%; height: 400px;"></div>
                                </div>
                                <div class="map-instructions">
                                    <p>üîç –í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –ò–õ–ò –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ç–æ—á–∫—É –Ω–∞ –∫–∞—Ä—Ç–µ</p>
                                    <p>üìç –í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø–æ–ª–µ –Ω–∏–∂–µ</p>
                                </div>
                                <div class="selected-address">
                                    <input type="text" id="selected-address-input" placeholder="–í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å" readonly>
                                    <button type="button" class="btn btn-primary" id="confirm-address-btn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∞–¥—Ä–µ—Å</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="vacancy-description">–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ *</label>
                        <textarea id="vacancy-description" name="description" rows="4"
                            placeholder="–û–ø–∏—à–∏—Ç–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞–Ω–¥–∏–¥–∞—Ç—É –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="vacancy-contact-phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *</label>
                        <input type="tel" id="vacancy-contact-phone" name="contact_phone" placeholder="+7 (777) 123-45-67" required>
                    </div>

                    <div class="form-group">
                        <label for="vacancy-contact-email">Email</label>
                        <input type="email" id="vacancy-contact-email" name="contact_email" placeholder="hr@company.kz">
                    </div>

                    <div class="form-group">
                        <label for="vacancy-contact-person">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</label>
                        <input type="text" id="vacancy-contact-person" name="contact_person" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary" id="submit-btn">–°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Address Picker Modal -->
    <div class="modal" id="address-picker-modal">
        <div class="modal-content map-modal">
            <div class="modal-header">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∞–¥—Ä–µ—Å –Ω–∞ –∫–∞—Ä—Ç–µ</h3>
                <button class="modal-close" id="address-picker-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="map-search">
                    <input type="text" id="map-search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É...">
                    <button class="btn btn-primary" id="map-search-btn">–ù–∞–π—Ç–∏</button>
                </div>
                <div id="map-container" class="map-container"></div>
                <div class="selected-address">
                    <strong>–í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å:</strong>
                    <span id="selected-address-text">–ù–µ –≤—ã–±—Ä–∞–Ω</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="address-picker-cancel">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" id="address-picker-confirm">–í—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 TempTeachers. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π.</p>
            </div>
        </div>
    </footer>

    <script src="/js/dashboard.js"></script>
</body>
</html>
